<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login - KantekGO</title>
<style>
  :root{--bg:#fbf6f0;--card:#23272a;--accent:#f2994a;--muted:#666;--text:#23272a;--green:#7fb36b;--cream:#fbf6f0}
  body{font-family:Helvetica, Arial, sans-serif;background:var(--bg);margin:0;color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:460px;margin:48px auto;padding:20px}
  header.top{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;background:#23272a;border-radius:12px 12px 32px 32px;padding:14px 18px;box-shadow:0 8px 24px rgba(60,60,60,0.08);color:var(--cream);}
  .brand{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--cream);}
  .brand img{width:40px;height:40px;border-radius:50%}
  .nav-link{text-decoration:none;color:var(--cream);font-weight:500;padding:8px 10px;border-radius:8px;transition:all .18s ease}
  .nav-link:hover{background:rgba(251,246,240,0.12);color:var(--cream)}
  .card{background:var(--card);padding:22px;border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,.07);animation:fadeIn .35s ease;color:var(--cream)}
  .card h2{margin:0 0 8px;color:var(--cream)}
  label.field-label{display:block;margin-top:10px;font-size:.95rem;font-weight:600;color:var(--cream)}
  input{width:100%;padding:12px;margin-top:6px;border-radius:10px;border:1px solid #eee;box-sizing:border-box}
  .btn{margin-top:14px;padding:12px;background:var(--accent);color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:700}
  .note{color:var(--muted);margin-top:12px;text-align:center}
  .muted-link{color:var(--cream);text-decoration:none}
  @keyframes fadeIn {from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div class="brand"><img src="logo.jpg" alt="logo">KantekGO!</div>
      <nav>
        <a class="nav-link" href="index.html">Beranda</a>
        <a class="nav-link" href="register.html">Daftar</a>
      </nav>
    </header>

    <div class="card">
      <h2>Masuk ke KantekGO</h2>
      <label class="field-label">Email</label>
      <input id="email" placeholder="contoh@domain.com">
      <label class="field-label">Password</label>
      <input id="password" type="password" placeholder="Password">
      <div style="margin-top:8px">
        <label><input type="checkbox" id="remember"> Ingat saya</label>
      </div>
      <button class="btn" id="loginBtn">Masuk</button>
      <p class="note">Belum punya akun? <a class="muted-link" href="register.html">Daftar</a></p>
    </div>
  </div>

<script>
document.getElementById('loginBtn').addEventListener('click', ()=>{
  const email = document.getElementById('email').value.trim().toLowerCase();
  const password = document.getElementById('password').value;
  if(typeof(Storage)==="undefined"){
    alert("Browser tidak mendukung localStorage. Tidak bisa login.");
    return;
  }
  let users = [];
  try {
    users = JSON.parse(localStorage.getItem('kantek_users')||'[]');
  } catch(e) { users = []; }
  const u = users.find(x=> x.email === email && x.password === password);
  if(!u){ alert('Email tidak terdaftar atau password salah.'); return; }
  try {
    localStorage.setItem('kantek_current_user', JSON.stringify(u));
  } catch(e) {
    alert('Gagal menyimpan data login. Pastikan browser mengizinkan penyimpanan lokal.');
    return;
  }
  alert('Login berhasil sebagai ' + u.role);
  if(u.role === 'seller') location.href = 'seller_history.html';
  else if(u.role === 'buyer') location.href = 'buyer_history.html';
  else location.href = 'index.html';
});
</script>
</body>
</html>
