<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KantekGO - Beranda</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Helvetica as requested */
      body{font-family:Helvetica, Arial, sans-serif;margin:0;background:#fbf6f0;color:#23272a; -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    .wrap{max-width:1000px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;background:#23272a;}
    .logo{display:flex;align-items:center;gap:10px;font-weight:700}
    /* styled site header with curved bottom (SVG wave) */
    .site-header{background:#23272a;padding:14px 18px;border-radius:12px;border-bottom-left-radius:36px;border-bottom-right-radius:36px;color:#fbf6f0;box-shadow:0 12px 30px rgba(46,74,51,0.12)}
    .site-header .logo{gap:12px}
    .site-header .logo img{width:36px;height:36px;border-radius:50%;object-fit:cover}
    .site-header .logo .brand-text{font-family:'Poppins', Helvetica, Arial, sans-serif;font-weight:700;color:#fbf6f0}
    .site-header .top-actions a{color:#fbf6f0;background:transparent;border:1px solid transparent;padding:8px 10px;border-radius:8px;margin-left:10px;font-weight:600}
    .site-header .top-actions a:hover{background:rgba(251,246,240,0.12);color:#fbf6f0}
    .site-header .btn-ghost{border-color:#fbf6f0;color:#fbf6f0}
    .header-wave{display:block;width:100%;height:36px;margin-top:6px}
    .hero{display:flex;align-items:center;justify-content:space-between;margin:16px 0 20px;gap:16px;animation:fadeUp .45s ease}
    .hero h1{font-size:2.4rem;margin:0;font-family:'Poppins', Helvetica, Arial, sans-serif;font-weight:700;color:#2e4a33;text-transform:capitalize;letter-spacing:0.2px}
    .hero p{color:#556b57;margin:8px 0 0;font-family:'Poppins', Helvetica, Arial, sans-serif;font-weight:600;font-size:1.05rem;text-transform:capitalize;opacity:0.95}
    .hero img{max-width:320px;border-radius:20px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-top:28px}
    .card{background:#23272a;padding:12px;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.06);cursor:pointer;transition:transform .18s, box-shadow .18s;display:flex;flex-direction:column;align-items:center}
    .card img{width:100%;height:140px;object-fit:cover;border-radius:8px}
    .card p{margin:10px 0 0;font-weight:600;color:#fbf6f0}
    .card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(0,0,0,0.09)}
    footer{margin-top:34px;text-align:center;color:#777;padding:18px 0}
    .top-actions a{margin-left:12px;text-decoration:none;color:#333;padding:8px 10px;border-radius:8px;border:1px solid transparent;font-weight:500;transition:all .2s ease}
    .top-actions a:hover{background:#f0e6d2;color:#7fb36b}
    .btn-ghost{background:transparent;border:1px solid #eee}
    .btn-ghost:hover{background:#f0e6d2;border-color:#7fb36b}
    @media(max-width:720px){.hero{flex-direction:column}.hero img{max-width:90%}.hero h1{font-size:1.6rem}.hero p{font-size:0.98rem}}

    /* simple animation */
    @keyframes fadeUp { from {opacity:0; transform:translateY(8px)} to {opacity:1; transform:none} }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="site-header">
      <div class="logo"><img src="logo.jpg" alt="KantekGO"><div class="brand-text">KantekGO!</div></div>
      <nav class="top-actions" style="font-size:.95rem;" id="mainNav">
        <a href="index.html">Home</a>
        <a href="login.html" id="loginLink">Login</a>
        <a href="register.html">Daftar</a>
        <a href="seller_dashboard.html" class="btn-ghost">Seller</a>
      </nav>
    </header>
    <svg class="header-wave" viewBox="0 0 1440 80" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg"><path d="M0,40 C240,80 480,0 720,40 C960,80 1200,0 1440,40 L1440,80 L0,80 Z" fill="#23272a"></path></svg>

    <section class="hero">
      <div>
        <h1>Pesan Makanan Favoritmu!</h1>
        <p>Tanpa antre â€” pesan sekarang dan ambil di gerai.</p>
      </div>
      <img src="hero.jpg" alt="hero">
    </section>

    <h2 style="margin-top:8px">Gerai</h2>
    <div class="cards" id="geraiCards">
      <!-- gerai cards generated by JS -->
    </div>

    <footer>--- Kantin Teknik Universitas Indonesia ---</footer>
  </div>

  <script>
    // Tampilkan link riwayat sesuai role user
    (function(){
      const nav = document.getElementById('mainNav');
      const loginLink = document.getElementById('loginLink');
      try {
        const user = JSON.parse(localStorage.getItem('kantek_current_user')||'null');
        if(user && loginLink) {
          loginLink.textContent = 'Logout';
          loginLink.href = '#';
          loginLink.addEventListener('click', function(e){
            e.preventDefault();
            localStorage.removeItem('kantek_current_user');
            location.reload();
          });
        }
        if(user && user.role === 'buyer') {
          const a = document.createElement('a');
          a.href = 'buyer_history.html';
          a.textContent = 'Riwayat Pembelian';
          nav.appendChild(a);
        }
        if(user && user.role === 'seller') {
          const a = document.createElement('a');
          a.href = 'seller_history.html';
          a.textContent = 'Riwayat Penjualan';
          nav.appendChild(a);
        }
      } catch(e){}
    })();
    // demo data initialization (only if not present)
    (function init(){
      if(!localStorage.getItem('kantek_menu')){
        const menu = {
          "1":[
            {id:'sate',name:'Sate',price:12000,prep:7},
            {id:'nasi_goreng',name:'Nasi Goreng',price:15000,prep:10},
            {id:'sop',name:'Sop',price:13000,prep:8}
          ],
          "2":[
            {id:'mie_goreng',name:'Mie Goreng',price:12000,prep:6},
            {id:'bakso',name:'Bakso',price:14000,prep:9}
          ],
          "3":[
            {id:'ayam_goreng',name:'Ayam Goreng',price:17000,prep:12},
            {id:'tahu',name:'Tahu Isi',price:8000,prep:5}
          ]
        };
        localStorage.setItem('kantek_menu', JSON.stringify(menu));
      }
      if(!localStorage.getItem('kantek_orders')) localStorage.setItem('kantek_orders', JSON.stringify([]));
      if(!localStorage.getItem('kantek_users')) localStorage.setItem('kantek_users', JSON.stringify([]));
      if(!localStorage.getItem('kantek_gerais')) {
        const gerais = [
          {id:"1", name:"Gerai 1"},
          {id:"2", name:"Gerai 2"},
          {id:"3", name:"Gerai 3"}
        ];
        localStorage.setItem('kantek_gerais', JSON.stringify(gerais));
      }
    })();

    const gerais = JSON.parse(localStorage.getItem('kantek_gerais')||'[]');
    const wrap = document.getElementById('geraiCards');
    gerais.forEach(g=>{
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = '<img src="gerai'+g.id+'_food.jpg" /><p>'+g.name+'</p>';
      div.addEventListener('click', ()=> {
        // go to menu with back support
        location.href = 'menu.html?gerai=' + g.id;
      });
      wrap.appendChild(div);
    });

    // expose help contact (left empty as requested)
    document.getElementById('helpContact').textContent = '';
  </script>
</body>
</html>
